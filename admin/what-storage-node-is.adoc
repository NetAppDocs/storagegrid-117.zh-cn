---
permalink: admin/what-storage-node-is.html 
sidebar: sidebar 
keywords: what is a storage node, how many storage nodes 
summary: 存储节点可管理和存储对象数据和元数据。每个 StorageGRID 系统必须至少具有三个存储节点。如果您有多个站点，则 StorageGRID 系统中的每个站点也必须有三个存储节点。 
---
= 什么是存储节点？
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
存储节点可管理和存储对象数据和元数据。每个 StorageGRID 系统必须至少具有三个存储节点。如果您有多个站点，则 StorageGRID 系统中的每个站点也必须有三个存储节点。

存储节点包括在磁盘上存储，移动，验证和检索对象数据和元数据所需的服务和进程。您可以在 * 节点 * 页面上查看有关存储节点的详细信息。



== 什么是模数转换器服务？

管理域控制器（ ADC-A ）服务对网格节点及其彼此连接进行身份验证。一个站点的前三个存储节点中的每个存储节点都托管了此类模块转换服务。

此 ADA 服务可维护拓扑信息，包括服务的位置和可用性。当网格节点需要来自另一个网格节点的信息或由另一个网格节点执行操作时，它会联系一个模数转换器服务来查找处理其请求的最佳网格节点。此外，该 StorageGRID 服务还会保留一份部署配置包的副本，以便任何网格节点都可以检索当前配置信息。您可以在网格拓扑页面（ * 支持 * > * 网格拓扑 * ）上查看存储节点的数据转换信息。

为了便于分布式和孤岛式操作，每个 StorageGRID 服务会将证书，配置包以及有关服务和拓扑的信息与系统中的其他 ADE 服务进行同步。

通常，所有网格节点都会至少与一个 ADC 服务保持连接。这样可以确保网格节点始终访问最新信息。当网格节点连接时，它们会缓存其他网格节点的` 证书，从而使系统能够继续使用已知网格节点运行，即使某个模数转换器服务不可用也是如此。新的网格节点只能通过使用模数转换器服务建立连接。

通过每个网格节点的连接，可以使此 ADA 服务收集拓扑信息。此网格节点信息包括 CPU 负载，可用磁盘空间（如果有存储），支持的服务以及网格节点的站点 ID 。其他服务则通过拓扑查询向此类服务请求拓扑信息。对于从 StorageGRID 系统收到的最新信息，此 ADA 服务会对每个查询做出响应。



== 什么是 DDS 服务？

分布式数据存储（ DDS ）服务由存储节点托管，它与 Cassandra 数据库建立接口，以便对存储在 StorageGRID 系统中的对象元数据执行后台任务。



=== 对象计数

DDS 服务可跟踪载入到 StorageGRID 系统中的对象总数，以及通过每个系统支持的接口（ S3 或 Swift ）载入的对象总数。

您可以在任何存储节点的 "Nodes" 页面 >"Object" 选项卡上查看对象总数。

image::../media/dds_object_counts_queries.png[DDS 概述页面]



=== 查询

您可以确定通过特定 DDS 服务对元数据存储运行查询所需的平均时间，成功查询的总数以及因问题描述 超时而失败的查询总数。

您可能希望查看查询信息以监控元数据存储 Cassandra 的运行状况，这会影响系统的载入和检索性能。例如，如果平均查询的延迟较慢，并且因超时而导致查询失败的次数较多，则元数据存储可能会遇到较高的负载或执行其他操作。

您还可以查看因一致性失败而失败的查询总数。通过特定 DDS 服务执行查询时，可用元数据存储数量不足，导致一致性级别失败。

您可以使用诊断页面获取有关网格当前状态的追加信息。请参见 link:../monitor/running-diagnostics.html["Run diagnostics"]。



=== 一致性保证和控制

StorageGRID 保证新创建的对象的写入后读一致性。成功完成 PUT 操作后的任何 GET 操作都将能够读取新写入的数据。现有对象的覆盖，元数据更新和删除操作最终保持一致。



== 什么是 LDR 服务？

本地分发路由器（ LDR ）服务由每个存储节点托管，负责处理 StorageGRID 系统的内容传输。内容传输包含许多任务，包括数据存储，路由和请求处理。LDR服务通过处理数据传输负载和数据流量功能来完成StorageGRID 系统的大部分艰苦工作。

LDR 服务可处理以下任务：

* 查询
* 信息生命周期管理（ ILM ）活动
* 对象删除
* 对象数据存储
* 从其他 LDR 服务（存储节点）传输对象数据
* 数据存储管理
* 协议接口（ S3 和 Swift ）


此外， LDR 服务还可管理 S3 和 Swift 对象到 StorageGRID 系统为每个载入对象分配的唯一 "`content handles` " （ UUID ）的映射。



=== 查询

LDR 查询包括在检索和归档操作期间查询对象位置。您可以确定运行查询所需的平均时间，成功查询的总数以及因超时问题描述 而失败的查询总数。

您可以查看查询信息以监控元数据存储的运行状况，这会影响系统的载入和检索性能。例如，如果平均查询的延迟较慢，并且因超时而导致查询失败的次数较多，则元数据存储可能会遇到较高的负载或执行其他操作。

您还可以查看因一致性失败而失败的查询总数。通过特定 LDR 服务执行查询时，可用元数据存储数量不足会导致一致性级别失败。

您可以使用诊断页面获取有关网格当前状态的追加信息。请参见 link:../monitor/running-diagnostics.html["Run diagnostics"]。



=== ILM 活动

通过信息生命周期管理（ ILM ）指标，您可以监控对象在实施 ILM 时的评估速率。您可以在信息板或*节点*>*存储节点_*>* ILM中查看这些指标。



=== 对象存储

LDR 服务的底层数据存储分为固定数量的对象存储（也称为存储卷）。每个对象存储都是一个单独的挂载点。

您可以在节点页面 > 存储选项卡上查看存储节点的对象存储。

image::../media/object_stores.png[对象存储]

存储在存储节点中的对象使用从 0000 到 002F 的十六进制数字进行标识，该数字称为卷 ID 。在第一个对象存储（卷 0 ）中预留空间用于 Cassandra 数据库中的对象元数据；该卷上的任何剩余空间用于对象数据。所有其他对象存储仅用于对象数据，其中包括复制的副本和经过纠删编码的片段。

为了确保复制的副本的空间使用量均匀，给定对象的对象数据会根据可用存储空间存储到一个对象存储中。当一个或多个对象存储填满容量时，其余对象存储将继续存储对象，直到存储节点上没有更多空间为止。



=== 元数据保护

对象元数据是指与对象或对象的问题描述 相关的信息，例如对象修改时间或存储位置。StorageGRID 将对象元数据存储在与 LDR 服务连接的 Cassandra 数据库中。

为了确保冗余并防止丢失，每个站点维护三个对象元数据副本。此复制不可配置，并且会自动执行。

link:managing-object-metadata-storage.html["管理对象元数据存储"]
